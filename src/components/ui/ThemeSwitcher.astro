<svg
  id="moon"
  xmlns="http://www.w3.org/2000/svg"
  class="icon icon-tabler icon-tabler-moon-stars stroke-ae-blue hidden w-8 cursor-pointer stroke-1"
  viewBox="0 0 24 24"
  fill="none"
  stroke-linecap="round"
  stroke-linejoin="round"
  aria-hidden="true"
>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
  <path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0 -2 2a2 2 0 0 0 -2 -2a2 2 0 0 0 2 -2"></path>
  <path d="M19 11h2m-1 -1v2"></path>
</svg>

<svg
  id="sun"
  xmlns="http://www.w3.org/2000/svg"
  class="icon icon-tabler icon-tabler-sunset-2 stroke-ae-red hidden w-8 cursor-pointer stroke-1"
  viewBox="0 0 24 24"
  fill="none"
  stroke-linecap="round"
  stroke-linejoin="round"
  aria-hidden="true"
>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <path d="M3 13h1"></path>
  <path d="M20 13h1"></path>
  <path d="M5.6 6.6l.7 .7"></path>
  <path d="M18.4 6.6l-.7 .7"></path>
  <path d="M8 13a4 4 0 1 1 8 0"></path>
  <path d="M3 17h18"></path>
  <path d="M7 20h5"></path>
  <path d="M16 20h1"></path>
  <path d="M12 5v-1"></path>
</svg>

<script>
  const sun = document.getElementById("sun");
  const moon = document.getElementById("moon");

  if (sun && moon) {
    const syncTheme = (theme: "dark" | "light") => {
      localStorage.theme = theme;
      moon.style.display = theme === "dark" ? "inline-block" : "none";
      sun.style.display = theme === "dark" ? "none" : "inline-block";
      document.documentElement.classList.toggle("dark", theme === "dark");
    };

    const toggleTheme = () => {
      syncTheme(localStorage.theme === "dark" ? "light" : "dark");
    };

    const getInitialTheme = (): "dark" | "light" => {
      if (localStorage.theme === "dark" || localStorage.theme === "light") {
        return localStorage.theme;
      }
      return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
    };

    syncTheme(getInitialTheme());

    sun.addEventListener("click", toggleTheme);
    moon.addEventListener("click", toggleTheme);
  }
</script>
